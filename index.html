<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PicoPay | Cheap In-Game Currency & Box Live</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configure Tailwind for a dark theme with green accents -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#0a0a0a',
                        'secondary-dark': '#1f2937',
                        'accent-green': '#10b981', // Emerald green for the glow
                        'text-light': '#f3f4f6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <!-- Use Inter font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for a glowing effect */
        .glow-text {
            text-shadow: 0 0 8px rgba(16, 185, 129, 0.7); /* accent-green glow */
        }
        .glow-button {
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); /* accent-green glow */
            transition: box-shadow 0.3s ease-in-out, transform 0.1s ease-in-out;
        }
        .glow-button:hover {
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.9);
            transform: translateY(-2px);
        }
        /* Style for the hidden modal backdrop */
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 60;
        }
        /* Style for the temporary alert bar */
        .alert-bar {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            transform: translateY(0);
            opacity: 1;
        }
        .alert-bar.hide {
            transform: translateY(-100%);
            opacity: 0;
        }
    </style>
</head>
<body class="bg-primary-dark text-text-light font-sans min-h-screen antialiased">

    <!-- Header & Navigation -->
    <header class="bg-secondary-dark/50 backdrop-blur-sm sticky top-0 z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <!-- Logo Area -->
            <div class="flex items-center space-x-2">
                <!-- Fallback placeholder image used if original URL fails -->
                <img 
                    src="image.png" 
                    onerror="this.onerror=null;this.src='https://placehold.co/150x50/10b981/ffffff?text=PicoPay'" 
                    alt="PicoPay Logo - Green Glowing P" 
                    class="h-8 md:h-10 rounded-full"
                >
            </div>
            
            <!-- Desktop Navigation -->
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#products" class="nav-link text-text-light hover:text-accent-green transition duration-300">Products</a>
                <a href="#features" class="nav-link text-text-light hover:text-accent-green transition duration-300">Why Us?</a>
                <a href="#contact" class="nav-link text-text-light hover:text-accent-green transition duration-300">Contact</a>
                
                <!-- Desktop Cart Button -->
                <button id="cart-button-desktop" class="relative p-2 text-text-light hover:text-accent-green transition duration-300" onclick="openCartModal()">
                    <!-- Shopping Cart Icon (Lucide Icon via inline SVG) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 12.42a2 2 0 0 0 2 1.58h9.32a2 2 0 0 0 2-1.58L23 6H6"></path></svg>
                    <span id="cart-count-desktop" class="absolute -top-1 -right-1 bg-red-600 text-xs text-white rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>

                <a href="#" class="nav-link text-text-light bg-accent-green/10 px-4 py-2 rounded-lg hover:bg-accent-green/30 transition duration-300">
                    Sign In
                </a>
            </nav>

            <!-- Mobile Menu Button -->
            <button id="menu-button" class="md:hidden p-2 text-text-light hover:text-accent-green transition duration-300" onclick="toggleMobileMenu()">
                <!-- Hamburger Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
        </div>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden bg-secondary-dark/95 border-t border-accent-green/20">
            <nav class="flex flex-col space-y-2 p-4">
                <a href="#products" class="block py-2 px-3 hover:bg-accent-green/20 rounded-md transition duration-300" onclick="toggleMobileMenu()">Products</a>
                <a href="#features" class="block py-2 px-3 hover:bg-accent-green/20 rounded-md transition duration-300" onclick="toggleMobileMenu()">Why Us?</a>
                <a href="#contact" class="block py-2 px-3 hover:bg-accent-green/20 rounded-md transition duration-300" onclick="toggleMobileMenu()">Contact</a>
                <a href="#" class="block py-2 px-3 bg-accent-green/10 rounded-md text-center hover:bg-accent-green/30 transition duration-300">Sign In</a>
                <!-- Mobile Cart Button -->
                <button class="w-full py-2 px-3 text-left relative hover:bg-accent-green/20 rounded-md transition duration-300 flex items-center justify-start space-x-2" onclick="openCartModal(); toggleMobileMenu();">
                    <!-- Shopping Cart Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 12.42a2 2 0 0 0 2 1.58h9.32a2 2 0 0 0 2-1.58L23 6H6"></path></svg>
                    <span>Cart</span>
                    <span id="cart-count-mobile" class="ml-auto bg-red-600 text-xs text-white rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">

        <!-- Hero Section -->
        <section class="text-center py-12 md:py-24">
            <h1 class="text-4xl sm:text-6xl md:text-7xl font-extrabold mb-4 leading-tight">
                Unlock <span class="text-accent-green glow-text">Peak Gaming</span> Power
            </h1>
            <p class="text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto mb-8">
                The fastest and cheapest source for in-game currency, premium items, and Box Live subscriptions. Get instant delivery, guaranteed security.
            </p>
            <div class="space-y-4 sm:space-y-0 sm:space-x-4 flex flex-col sm:flex-row justify-center mb-12">
                <button class="glow-button bg-accent-green text-primary-dark font-semibold px-8 py-3 rounded-xl shadow-lg hover:bg-green-500 transition duration-300" onclick="scrollToElement('products')">
                    Browse Deals Now
                </button>
                <a href="#features" class="glow-button bg-secondary-dark text-text-light border border-accent-green/50 font-semibold px-8 py-3 rounded-xl shadow-lg hover:bg-secondary-dark/80 transition duration-300 flex items-center justify-center">
                    Learn More
                    <!-- Arrow Right Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                </a>
            </div>
            <!-- Canvas Demonstration Section removed -->
        </section>

        <!-- Products Section -->
        <section id="products" class="py-12 md:py-20">
            <h2 class="text-3xl sm:text-4xl font-bold mb-10 text-center border-b border-accent-green/50 pb-4">Our Top Deals</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Product Card 1: Game Currency -->
                <div class="product-card bg-secondary-dark p-6 rounded-xl shadow-xl hover:shadow-accent-green/20 transition duration-300 border border-secondary-dark hover:border-accent-green/50">
                    <h3 class="text-xl font-bold mb-2 text-accent-green">10,000 Gold Coins</h3>
                    <p class="text-gray-400 mb-4">The essential currency for every serious player. Instant deposit after purchase.</p>
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-3xl font-extrabold text-text-light">$19.99</span>
                        <span class="text-sm line-through text-gray-500">$29.99</span>
                    </div>
                    <button class="add-to-cart-btn w-full glow-button bg-accent-green text-primary-dark font-semibold py-2 rounded-lg" data-product-id="P001" data-price="19.99" data-product-name="10,000 Gold Coins">
                        Add to Cart
                    </button>
                </div>

                <!-- Product Card 2: Subscription -->
                <div class="product-card bg-secondary-dark p-6 rounded-xl shadow-xl hover:shadow-accent-green/20 transition duration-300 border border-secondary-dark hover:border-accent-green/50">
                    <h3 class="text-xl font-bold mb-2 text-accent-green">Box Live (12 Months)</h3>
                    <p class="text-gray-400 mb-4">Access online multiplayer and free games for a full year. Key emailed instantly.</p>
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-3xl font-extrabold text-text-light">$49.99</span>
                        <span class="text-sm line-through text-gray-500">$59.99</span>
                    </div>
                    <button class="add-to-cart-btn w-full glow-button bg-accent-green text-primary-dark font-semibold py-2 rounded-lg" data-product-id="P002" data-price="49.99" data-product-name="Box Live (12 Months)">
                        Add to Cart
                    </button>
                </div>

                <!-- Product Card 3: Rare Item -->
                <div class="product-card bg-secondary-dark p-6 rounded-xl shadow-xl hover:shadow-accent-green/20 transition duration-300 border border-secondary-dark hover:border-accent-green/50">
                    <h3 class="text-xl font-bold mb-2 text-accent-green">Epic Loot Crate</h3>
                    <p class="text-gray-400 mb-4">Guaranteed rare item drop. Limited stock available this week!</p>
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-3xl font-extrabold text-text-light">$9.99</span>
                        <span class="text-sm line-through text-gray-500">$14.99</span>
                    </div>
                    <button class="add-to-cart-btn w-full glow-button bg-accent-green text-primary-dark font-semibold py-2 rounded-lg" data-product-id="P003" data-price="9.99" data-product-name="Epic Loot Crate">
                        Add to Cart
                    </button>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-12 md:py-20">
            <h2 class="text-3xl sm:text-4xl font-bold mb-10 text-center border-b border-accent-green/50 pb-4">Why Choose PicoPay?</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <!-- Feature 1: Speed -->
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <!-- Zap Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">Instant Delivery</h3>
                    <p class="text-gray-400 text-sm">Codes and currency delivered in seconds, not hours.</p>
                </div>
                <!-- Feature 2: Price -->
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <!-- Dollar Sign Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">Unbeatable Prices</h3>
                    <p class="text-gray-400 text-sm">We guarantee the lowest market rates on all items.</p>
                </div>
                <!-- Feature 3: Security -->
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <!-- Shield Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">100% Secure</h3>
                    <p class="text-gray-400 text-sm">All transactions are secured with industry-leading encryption.</p>
                </div>
                <!-- Feature 4: Support -->
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <!-- Headset Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">24/7 Support</h3>
                    <p class="text-gray-400 text-sm">Our expert team is always ready to assist you via chat or email.</p>
                </div>
            </div>
        </section>

        <!-- Call to Action / Contact Section -->
        <section id="contact" class="py-12 md:py-20 text-center bg-secondary-dark rounded-xl shadow-2xl mt-12">
            <h2 class="text-3xl font-bold mb-4 text-accent-green">Ready to Level Up?</h2>
            <p class="text-lg text-gray-400 max-w-2xl mx-auto mb-8">
                Join thousands of satisfied gamers who trust PicoPay for their in-game needs. Click below to start saving!
            </p>
            <button class="glow-button bg-accent-green text-primary-dark font-semibold px-10 py-4 rounded-xl shadow-lg hover:bg-green-500 transition duration-300 text-xl" onclick="scrollToElement('products')">
                Start Shopping
            </button>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-secondary-dark/50 mt-16 border-t border-accent-green/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center text-gray-400 text-sm">
            <p>&copy; 2025 PicoPay. All rights reserved.</p>
            <div class="mt-2 space-x-4">
                <a href="#" class="hover:text-accent-green transition duration-300">Privacy Policy</a>
                <button onclick="openTermsModal()" class="hover:text-accent-green transition duration-300">Terms of Service</button>
            </div>
        </div>
    </footer>

    <!-- Global Message Box (Custom Modal instead of alert()) -->
    <div id="message-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center z-[100]">
        <div class="bg-secondary-dark p-6 rounded-xl shadow-2xl max-w-sm w-full border border-accent-green/50 transform transition-all duration-300 scale-95 opacity-0" id="message-modal-content">
            <h3 class="text-xl font-bold mb-3 text-accent-green">Notification</h3>
            <p id="modal-message" class="text-text-light mb-6"></p>
            <div class="flex justify-end">
                <button class="bg-accent-green text-primary-dark font-semibold px-4 py-2 rounded-lg hover:bg-green-500 transition duration-300" onclick="closeMessageModal()">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center z-[100]">
        <div class="bg-secondary-dark p-6 rounded-xl shadow-2xl max-w-lg w-full border border-accent-green/50 transform transition-all duration-300 scale-95 opacity-0" id="cart-modal-content">
            <div class="flex justify-between items-center mb-4 border-b border-accent-green/50 pb-2">
                <h3 class="text-2xl font-bold text-accent-green">Your Cart</h3>
                <button class="text-gray-400 hover:text-red-500" onclick="closeCartModal()">
                    <!-- X Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            
            <div id="cart-items-container" class="space-y-4 max-h-80 overflow-y-auto pr-2 mb-4">
                <!-- Cart items will be injected here -->
                <p id="empty-cart-message" class="text-gray-500 italic">Your cart is empty. Time to shop!</p>
            </div>

            <div id="cart-summary" class="border-t border-accent-green/50 pt-4">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-xl font-bold">Total:</span>
                    <span id="cart-total" class="text-3xl font-extrabold text-accent-green">$0.00</span>
                </div>
                <button id="checkout-button" class="w-full glow-button bg-accent-green text-primary-dark font-semibold py-3 rounded-lg shadow-lg hover:bg-green-500 transition duration-300" onclick="checkout()">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>
    
    <!-- Terms of Service Modal -->
    <div id="terms-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center z-[100] p-4">
        <div class="bg-secondary-dark p-6 rounded-xl shadow-2xl max-w-3xl w-full h-full max-h-[90vh] flex flex-col border border-accent-green/50 transform transition-all duration-300 scale-95 opacity-0" id="terms-modal-content">
            <div class="flex justify-between items-center mb-4 border-b border-accent-green/50 pb-2 flex-shrink-0">
                <h3 class="text-2xl font-bold text-accent-green">PicoPay - Terms of Service</h3>
                <button class="text-gray-400 hover:text-red-500" onclick="closeTermsModal()">
                    <!-- X Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            
            <div class="overflow-y-auto pr-4 text-sm text-gray-300 flex-grow">
                <h4 class="text-lg font-bold text-text-light mt-4 mb-2">1. Acceptance of Terms</h4>
                <p class="mb-4">By accessing or using the PicoPay service ("Service"), you agree to be bound by these Terms of Service ("Terms"), and all terms incorporated herein by reference. If you do not agree to these Terms, you may not access or use the Service.</p>

                <h4 class="text-lg font-bold text-text-light mt-4 mb-2">2. Service Description</h4>
                <p class="mb-4">PicoPay provides a platform for purchasing virtual in-game currency, digital goods, and gaming subscriptions. All purchases are final and non-refundable, unless otherwise specified by our Refund Policy.</p>
                
                <h4 class="text-lg font-bold text-text-light mt-4 mb-2">3. User Obligations</h4>
                <ul class="list-disc list-inside space-y-2 mb-4">
                    <li>You must be at least 13 years old to use the Service.</li>
                    <li>You agree not to use the Service for any illegal or unauthorized purpose.</li>
                    <li>You are solely responsible for any data, text, information, usernames, graphics, images, profiles, audio, video, items, and links ("Content") that you submit, post, and display on the Service.</li>
                </ul>

                <h4 class="text-lg font-bold text-text-light mt-4 mb-2">4. Digital Goods & Delivery</h4>
                <p class="mb-4">All digital goods (including in-game currency and codes) are delivered electronically and instantly upon successful payment verification. Delivery times are estimated and PicoPay is not liable for delays caused by third-party payment processors or external game server issues.</p>

                <h4 class="text-lg font-bold text-text-light mt-4 mb-2">5. Termination</h4>
                <p class="mb-4">PicoPay reserves the right to terminate or suspend your account and access to the Service at our sole discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users of the Service, us, or third parties, or for any other reason.</p>

                <h4 class="text-lg font-bold text-text-light mt-4 mb-2">6. Limitation of Liability</h4>
                <p class="mb-4">PicoPay and its affiliates will not be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your access to or use of or inability to access or use the Service; (ii) any conduct or content of any third party on the Service.</p>

                <h4 class="text-lg font-bold text-text-light mt-4 mb-2">7. Governing Law</h4>
                <p class="mb-4">These Terms shall be governed by the laws of the jurisdiction where PicoPay is headquartered, without regard to its conflict of law provisions.</p>
                
                <p class="pt-4 text-center text-gray-500 italic">Last Updated: November 24, 2025</p>
            </div>

            <div class="flex justify-end pt-4 flex-shrink-0 border-t border-accent-green/50 mt-4">
                <button class="bg-accent-green text-primary-dark font-semibold px-4 py-2 rounded-lg hover:bg-green-500 transition duration-300" onclick="closeTermsModal()">
                    I Understand and Agree
                </button>
            </div>
        </div>
    </div>


    <!-- JavaScript logic -->
    <script type="text/javascript">
        // ------------------------------------------------------------------
        // FIREBASE SETUP (Mandatory for real-world apps)
        // Note: Actual Firebase interaction is omitted here as storage is not requested,
        // but the setup variables are required for proper file structure.
        // ------------------------------------------------------------------
        const __app_id = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const __firebase_config = typeof __firebase_config !== 'undefined' ? __firebase_config : '{}';
        const firebaseConfig = JSON.parse(__firebase_config);
        
        // Mock data structure for the shopping cart
        let cart = [];

        /**
         * Shows a custom message modal (replacing alert()).
         * @param {string} message The message to display.
         */
        function showMessageModal(message) {
            const modal = document.getElementById('message-modal');
            const modalContent = document.getElementById('message-modal-content');
            document.getElementById('modal-message').textContent = message;
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        /**
         * Closes the custom message modal.
         */
        function closeMessageModal() {
            const modal = document.getElementById('message-modal');
            const modalContent = document.getElementById('message-modal-content');
            
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        /**
         * Toggles the mobile navigation menu visibility.
         */
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        /**
         * Scrolls to a specific element on the page.
         * @param {string} id The ID of the element to scroll to.
         */
        function scrollToElement(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        /**
         * Updates the cart count displayed on the header buttons.
         */
        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count-desktop').textContent = count;
            document.getElementById('cart-count-mobile').textContent = count;
        }

        /**
         * Adds a product to the cart.
         * @param {string} productId The ID of the product.
         * @param {number} price The price of the product.
         * @param {string} name The name of the product.
         */
        function addToCart(productId, price, name) {
            const product = {
                id: productId,
                name: name,
                price: parseFloat(price),
                quantity: 1
            };

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push(product);
            }
            
            updateCartCount();
            showMessageModal(`${product.name} added to cart!`);
        }

        /**
         * Renders the cart contents inside the modal.
         */
        function renderCart() {
            const container = document.getElementById('cart-items-container');
            const totalElement = document.getElementById('cart-total');
            container.innerHTML = '';
            
            if (cart.length === 0) {
                container.innerHTML = '<p id="empty-cart-message" class="text-gray-500 italic">Your cart is empty. Time to shop!</p>';
                totalElement.textContent = '$0.00';
                document.getElementById('checkout-button').disabled = true;
                document.getElementById('checkout-button').classList.add('opacity-50', 'cursor-not-allowed');
                return;
            }

            let total = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                const itemHtml = `
                    <div class="flex justify-between items-center p-3 bg-primary-dark/50 rounded-lg">
                        <span class="font-medium">${item.name} (x${item.quantity})</span>
                        <span class="text-accent-green font-semibold">$${itemTotal.toFixed(2)}</span>
                    </div>
                `;
                container.innerHTML += itemHtml;
            });

            totalElement.textContent = `$${total.toFixed(2)}`;
            document.getElementById('checkout-button').disabled = false;
            document.getElementById('checkout-button').classList.remove('opacity-50', 'cursor-not-allowed');
        }

        /**
         * Opens the cart modal.
         */
        function openCartModal() {
            renderCart();
            const modal = document.getElementById('cart-modal');
            const modalContent = document.getElementById('cart-modal-content');
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        /**
         * Closes the cart modal.
         */
        function closeCartModal() {
            const modal = document.getElementById('cart-modal');
            const modalContent = document.getElementById('cart-modal-content');
            
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        /**
         * Handles the checkout process.
         */
        function checkout() {
            if (cart.length === 0) {
                showMessageModal("Your cart is empty. Please add items before checking out.");
                return;
            }
            
            const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
            
            closeCartModal();
            showMessageModal(`Checkout initiated! Total amount: $${total.toFixed(2)}. (Demo: No actual payment processed)`);
            
            // Reset cart after hypothetical checkout
            cart = [];
            updateCartCount();
        }

        /**
         * Opens the Terms of Service modal.
         */
        function openTermsModal() {
            const modal = document.getElementById('terms-modal');
            const modalContent = document.getElementById('terms-modal-content');
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        /**
         * Closes the Terms of Service modal.
         */
        function closeTermsModal() {
            const modal = document.getElementById('terms-modal');
            const modalContent = document.getElementById('terms-modal-content');
            
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // ------------------------------------------------------------------
        // INITIALIZATION
        // ------------------------------------------------------------------

        // Add event listeners to "Add to Cart" buttons
        document.addEventListener('DOMContentLoaded', () => {
            const cartButtons = document.querySelectorAll('.add-to-cart-btn');
            cartButtons.forEach(button => {
                button.addEventListener('click', (event) => {
                    const productId = event.target.dataset.productId;
                    const price = event.target.dataset.price;
                    const name = event.target.dataset.productName;
                    addToCart(productId, price, name);
                });
            });
            // Initial cart count update
            updateCartCount();
        });
        
    </script>
</body>
</html>
