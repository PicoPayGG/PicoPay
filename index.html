<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PicoPay | Cheap In-Game Currency & Box Live</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#0a0a0a',
                        'secondary-dark': '#1f2937',
                        'accent-green': '#10b981',
                        'accent-yellow': '#eab308',
                        'text-light': '#f3f4f6',
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    animation: { 'pulse-slow': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite' }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        .glow-text { text-shadow: 0 0 8px rgba(16, 185, 129, 0.7); }
        .glow-button { box-shadow: 0 0 10px rgba(16, 185, 129, 0.5); transition: all 0.3s ease-in-out; }
        .glow-button:hover { box-shadow: 0 0 15px rgba(16, 185, 129, 0.9); transform: translateY(-2px); }
        .admin-glow-button { box-shadow: 0 0 10px rgba(234, 179, 8, 0.5); }
        .admin-glow-button:hover { box-shadow: 0 0 15px rgba(234, 179, 8, 0.9); transform: translateY(-2px); }
        .modal-backdrop { background-color: rgba(0, 0, 0, 0.8); z-index: 60; transition: opacity 0.3s ease; }
        .modal-content-hidden { opacity: 0; transform: scale(0.95); }
        .modal-content-visible { opacity: 1; transform: scale(1); }
        .fly-item { position: fixed; z-index: 9999; width: 20px; height: 20px; background-color: #10b981; border-radius: 50%; pointer-events: none; box-shadow: 0 0 15px rgba(16, 185, 129, 0.8); transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1); }
        @keyframes cart-shake { 0%,100%{transform:rotate(0)} 25%{transform:rotate(-15deg)} 75%{transform:rotate(15deg)} }
        .cart-shake { animation: cart-shake 0.4s ease-in-out; color: #10b981; }
        .add-to-cart-btn { touch-action: manipulation; }

        /* Skeleton Loading Styles */
        .skeleton { background: linear-gradient(90deg, #1f2937 25%, #2d3748 50%, #1f2937 75%); background-size: 200% 100%; animation: loading 1.8s infinite; }
        @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
    </style>
</head>
<body class="bg-primary-dark text-text-light font-sans min-h-screen antialiased">

    <!-- Header & Navigation -->
    <header class="bg-secondary-dark/50 backdrop-blur-sm sticky top-0 z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                <img src="https://placehold.co/150x50/10b981/ffffff?text=P" onerror="this.onerror=null;this.src='https://placehold.co/50x50/10b981/ffffff?text=P'" alt="PicoPay Logo" class="h-10 w-10 rounded-full border-2 border-accent-green">
                <span class="text-2xl font-extrabold tracking-tighter hover:text-accent-green transition duration-300">PicoPay</span>
            </div>
            
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#products" class="nav-link text-text-light hover:text-accent-green transition duration-300">Products</a>
                <a href="#features" class="nav-link text-text-light hover:text-accent-green transition duration-300">Why Us?</a>
                <a href="#contact" class="nav-link text-text-light hover:text-accent-green transition duration-300">Contact</a>
                <button id="admin-dashboard-btn" onclick="openAdminDashboard()" class="hidden text-accent-yellow hover:text-white font-bold border border-accent-yellow/50 rounded-lg px-3 py-1 bg-accent-yellow/10 transition">Admin Dashboard</button>
                <button id="cart-button-desktop" class="relative p-2 text-text-light hover:text-accent-green transition duration-300" onclick="openCartModal()">
                    <svg id="cart-icon-desktop" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 12.42a2 2 0 0 0 2 1.58h9.32a2 2 0 0 0 2-1.58L23 6H6"></path></svg>
                    <span id="cart-count-desktop" class="absolute -top-1 -right-1 bg-red-600 text-xs text-white rounded-full h-5 w-5 flex items-center justify-center scale-0 transition-transform duration-200">0</span>
                </button>
                <button id="auth-btn-desktop" onclick="handleAuthClick()" class="nav-link text-text-light bg-accent-green/10 px-4 py-2 rounded-lg hover:bg-accent-green/30 transition duration-300 border border-accent-green/20">Sign In</button>
            </nav>

            <div class="md:hidden flex items-center space-x-4">
                <button id="cart-button-mobile" class="relative p-2 text-text-light hover:text-accent-green transition duration-300" onclick="openCartModal()">
                    <svg id="cart-icon-mobile" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 12.42a2 2 0 0 0 2 1.58h9.32a2 2 0 0 0 2-1.58L23 6H6"></path></svg>
                    <span id="cart-count-mobile-header" class="absolute -top-1 -right-1 bg-red-600 text-xs text-white rounded-full h-5 w-5 flex items-center justify-center scale-0 transition-transform duration-200">0</span>
                </button>
                <button id="menu-button" class="p-2 text-text-light hover:text-accent-green transition duration-300" onclick="toggleMobileMenu()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                </button>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden bg-secondary-dark/95 border-t border-accent-green/20 absolute w-full left-0 top-full z-[40]">
            <nav class="flex flex-col space-y-2 p-4 shadow-xl">
                <button id="admin-dashboard-btn-mobile" onclick="openAdminDashboard(); toggleMobileMenu();" class="hidden w-full text-left py-2 px-3 text-accent-yellow bg-accent-yellow/10 rounded-md hover:bg-accent-yellow/20 font-bold transition">Admin Dashboard</button>
                <a href="#products" class="block py-2 px-3 hover:bg-accent-green/20 rounded-md transition duration-300 text-text-light" onclick="toggleMobileMenu()">Products</a>
                <a href="#features" class="block py-2 px-3 hover:bg-accent-green/20 rounded-md transition duration-300 text-text-light" onclick="toggleMobileMenu()">Why Us?</a>
                <a href="#contact" class="block py-2 px-3 hover:bg-accent-green/20 rounded-md transition duration-300 text-text-light" onclick="toggleMobileMenu()">Contact</a>
                <button id="auth-btn-mobile" onclick="handleAuthClick(); toggleMobileMenu();" class="w-full text-left py-2 px-3 bg-accent-green/10 rounded-md hover:bg-accent-green/30 transition duration-300 text-text-light border border-accent-green/20">Sign In</button>
                <button class="w-full py-2 px-3 text-left relative hover:bg-accent-green/20 rounded-md transition duration-300 flex items-center justify-start space-x-2 text-text-light" onclick="openCartModal(); toggleMobileMenu();">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 12.42a2 2 0 0 0 2 1.58h9.32a2 2 0 0 0 2-1.58L23 6H6"></path></svg>
                    <span>Cart</span>
                    <span id="cart-count-mobile" class="ml-auto bg-red-600 text-xs text-white rounded-full h-5 w-5 flex items-center justify-center scale-0 transition-transform duration-200">0</span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <section class="text-center py-12 md:py-24">
            <h1 class="text-4xl sm:text-6xl md:text-7xl font-extrabold mb-4 leading-tight">
                Unlock <span class="text-accent-green glow-text">Peak Gaming</span> Power
            </h1>
            <p class="text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto mb-8">
                The fastest and cheapest source for in-game currency, premium items, and Box Live subscriptions. Get instant delivery, guaranteed security.
            </p>
            <div class="space-y-4 sm:space-y-0 sm:space-x-4 flex flex-col sm:flex-row justify-center mb-12">
                <button class="glow-button bg-accent-green text-primary-dark font-semibold px-8 py-3 rounded-xl shadow-lg hover:bg-green-500 transition duration-300" onclick="scrollToElement('products')">
                    Browse Deals Now
                </button>
                <a href="#features" class="glow-button bg-secondary-dark text-text-light border border-accent-green/50 font-semibold px-8 py-3 rounded-xl shadow-lg hover:bg-secondary-dark/80 transition duration-300 flex items-center justify-center">
                    Learn More
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                </a>
            </div>
        </section>

        <!-- Products Section with Skeleton Loading -->
        <section id="products" class="py-12 md:py-20 scroll-mt-24">
            <h2 class="text-3xl sm:text-4xl font-bold mb-10 text-center border-b border-accent-green/50 pb-4">Our Top Deals</h2>
            <div id="products-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Skeleton cards will be injected here on load -->
            </div>
        </section>

        <!-- Rest of your sections (unchanged) -->
        <section id="features" class="py-12 md:py-20 scroll-mt-24">
            <h2 class="text-3xl sm:text-4xl font-bold mb-10 text-center border-b border-accent-green/50 pb-4">Why Choose PicoPay?</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><polygon points="12 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">Instant Delivery</h3>
                    <p class="text-gray-400 text-sm">Codes and currency delivered in seconds.</p>
                </div>
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">Unbeatable Prices</h3>
                    <p class="text-gray-400 text-sm">Lowest market rates guaranteed.</p>
                </div>
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">100% Secure</h3>
                    <p class="text-gray-400 text-sm">Industry-leading encryption.</p>
                </div>
                <div class="bg-secondary-dark p-6 rounded-xl shadow-lg border border-accent-green/10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mx-auto mb-3"><path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path></svg>
                    <h3 class="font-semibold text-xl mb-2 text-text-light">24/7 Support</h3>
                    <p class="text-gray-400 text-sm">Expert team always ready.</p>
                </div>
            </div>
        </section>

        <section id="contact" class="py-12 md:py-20 text-center bg-secondary-dark rounded-xl shadow-2xl mt-12 border border-accent-green/10">
            <h2 class="text-3xl font-bold mb-4 text-accent-green">Ready to Level Up?</h2>
            <p class="text-lg text-gray-400 max-w-2xl mx-auto mb-8">
                Join thousands of satisfied gamers who trust PicoPay for their in-game needs.
            </p>
            <button class="glow-button bg-accent-green text-primary-dark font-semibold px-10 py-4 rounded-xl shadow-lg hover:bg-green-500 transition duration-300 text-xl" onclick="scrollToElement('products')">
                Start Shopping
            </button>
        </section>
    </main>

    <!-- Footer & All Modals (unchanged - kept for brevity) -->
    <!-- ... (all your modals: cart, auth, guest, admin, terms, privacy, message) ... -->

    <!-- JavaScript with Skeleton Loading Added -->
    <script>
        const initialProducts = [ /* your 9 products (unchanged) */ ];

        let products = JSON.parse(localStorage.getItem('picopay_products')) || initialProducts;
        let cart = JSON.parse(localStorage.getItem('picopay_cart')) || [];
        let currentUser = JSON.parse(localStorage.getItem('picopay_user')) || null;

        function getProductIcon(name) { /* unchanged */ }

        // SKELETON LOADER FUNCTION
        function showProductSkeleton() {
            const container = document.getElementById('products-grid');
            container.innerHTML = '';
            for (let i = 0; i < 6; i++) {
                const skeleton = document.createElement('div');
                skeleton.className = 'bg-secondary-dark rounded-xl shadow-lg overflow-hidden border border-accent-green/10 animate-pulse';
                skeleton.innerHTML = `
                    <div class="h-48 bg-gray-700/50 skeleton"></div>
                    <div class="p-6 space-y-4">
                        <div class="h-6 bg-gray-700/50 skeleton rounded w-3/4"></div>
                        <div class="space-y-2">
                            <div class="h-4 bg-gray-700/50 skeleton rounded"></div>
                            <div class="h-4 bg-gray-700/50 skeleton rounded w-5/6"></div>
                        </div>
                        <div class="flex justify-between items-center mt-6">
                            <div class="space-y-2">
                                <div class="h-5 bg-gray-700/50 skeleton rounded w-20"></div>
                                <div class="h-8 bg-gray-700/50 skeleton rounded w-24"></div>
                            </div>
                            <div class="h-12 w-12 bg-gray-700/50 skeleton rounded-lg"></div>
                        </div>
                    </div>
                `;
                container.appendChild(skeleton);
            }
        }

        function renderProducts() {
            const container = document.getElementById('products-grid');
            container.innerHTML = '';
            products.forEach(product => {
                const discount = Math.round(((product.originalPrice - product.price) / product.originalPrice) LTE 100);
                const card = document.createElement('div');
                card.className = 'bg-secondary-dark rounded-xl shadow-lg overflow-hidden border border-accent-green/10 hover:border-accent-green/40 transition duration-300 flex flex-col relative group';
                card.innerHTML = `<!-- your original product card HTML -->`;
                container.appendChild(card);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            showProductSkeleton();           // Show skeleton immediately
            updateCartUI();
            checkUserSession();

            // Simulate loading delay (remove in real app or replace with actual fetch)
            setTimeout(() => {
                renderProducts();
            }, 1200);
        });

        // Keep all your existing functions (addToCart, renderCartItems, modals, admin, etc.)
        // ... (everything else you already had â€” unchanged)

        // For brevity, the rest of your JS is exactly the same as before.
        // Just make sure renderProducts() replaces the skeleton when called.
    </script>
</body>
</html>
